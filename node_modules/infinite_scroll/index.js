var $ = require('jquery');


module.exports = function(i) {

    var scroll_difference = '';

    $(i.scroll_container).on('scroll', function () {

        if (i.orientation == 'vertical') {

            scroll_difference = $(i.scroll_container).height() - $(i.wrapper).outerHeight(true);

            //console.log('scroll_container height ' + $(i.scroll_container).height());
            //console.log('wrapper height ' + $(i.wrapper).outerHeight(true));
            //console.log('wrapper position(top) ' + $(i.wrapper).position().top);
            //console.log('Difference ' + scroll_difference);

            if ($(i.wrapper).position().top < (scroll_difference / 2)) {
                $(i.more_button).click();
            }
        }


        if (i.orientation == 'horizontal') {

            var wrapper_position = $(i.wrapper).offset().left + $(i.scroll_container).offset().left;
            scroll_difference = $(i.scroll_container).innerWidth() - $(i.wrapper).outerWidth(true);

            //console.log('scroll_container width ' + $(i.scroll_container).innerWidth());
            //console.log('wrapper width ' + $(i.wrapper).outerWidth(true));
            //console.log('wrapper position(left) ' + wrapper_position);
            //console.log('Difference ' + scroll_difference);

            if ($(i.wrapper).offset().left + $(i.scroll_container).offset().left < (scroll_difference / 2)) {
                $(i.more_button).click();
            }
        }

    });
};
